{% macro pattern_params() %}
<div class="row">
    <div class="col-md-6">
        <label for="body_size_ratio" class="form-label">Minimum Body Size Ratio</label>
        <input type="range" class="form-range" id="body_size_ratio" name="body_size_ratio" 
               min="0.1" max="0.8" step="0.05" value="0.3">
        <div class="d-flex justify-content-between">
            <small class="text-muted">10%</small>
            <small class="text-muted">80%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="body_size_ratio_value">30%</small>
        </div>
        <small class="form-text text-muted">Minimum body size for both candles</small>
    </div>
    
    <div class="col-md-6">
        <label for="gap_size_ratio" class="form-label">Gap Size Ratio (%)</label>
        <input type="range" class="form-range" id="gap_size_ratio" name="gap_size_ratio" 
               min="0.1" max="2.0" step="0.1" value="0.5">
        <div class="d-flex justify-content-between">
            <small class="text-muted">0.1%</small>
            <small class="text-muted">2.0%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="gap_size_ratio_value">0.5%</small>
        </div>
        <small class="form-text text-muted">Minimum gap size as percentage of price</small>
    </div>
    
    <div class="col-md-6">
        <label for="ma_period" class="form-label">Moving Average Period</label>
        <input type="number" class="form-control" id="ma_period" name="ma_period" 
               min="5" max="50" value="20">
        <small class="form-text text-muted">Period for trend context analysis</small>
    </div>
</div>

<script>
// Update range value displays
document.getElementById('body_size_ratio').addEventListener('input', function() {
    const value = (this.value * 100).toFixed(0);
    document.getElementById('body_size_ratio_value').textContent = value + '%';
});

document.getElementById('gap_size_ratio').addEventListener('input', function() {
    const value = this.value;
    document.getElementById('gap_size_ratio_value').textContent = value + '%';
});
</script>
{% endmacro %}
