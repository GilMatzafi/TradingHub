{% macro pattern_params() %}
<div class="row">
    <div class="col-md-6">
        <label for="body_size_ratio" class="form-label">Minimum Body Size Ratio</label>
        <input type="range" class="form-range" id="body_size_ratio" name="body_size_ratio" 
               min="0.1" max="0.8" step="0.05" value="0.6">
        <div class="d-flex justify-content-between">
            <small class="text-muted">10%</small>
            <small class="text-muted">80%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="body_size_ratio_value">60%</small>
        </div>
        <small class="form-text text-muted">Minimum body size for first and third candles</small>
    </div>
    
    <div class="col-md-6">
        <label for="gap_ratio" class="form-label">Gap Ratio</label>
        <input type="range" class="form-range" id="gap_ratio" name="gap_ratio" 
               min="0.05" max="0.3" step="0.05" value="0.1">
        <div class="d-flex justify-content-between">
            <small class="text-muted">5%</small>
            <small class="text-muted">30%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="gap_ratio_value">10%</small>
        </div>
        <small class="form-text text-muted">Minimum gap size as fraction of first candle body</small>
    </div>
    
    <div class="col-md-6">
        <label for="penetration_ratio" class="form-label">Penetration Ratio</label>
        <input type="range" class="form-range" id="penetration_ratio" name="penetration_ratio" 
               min="0.3" max="0.8" step="0.05" value="0.5">
        <div class="d-flex justify-content-between">
            <small class="text-muted">30%</small>
            <small class="text-muted">80%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="penetration_ratio_value">50%</small>
        </div>
        <small class="form-text text-muted">Minimum third candle penetration into first candle</small>
    </div>
    
    <div class="col-md-6">
        <label for="star_body_ratio" class="form-label">Star Body Ratio</label>
        <input type="range" class="form-range" id="star_body_ratio" name="star_body_ratio" 
               min="0.1" max="0.5" step="0.05" value="0.3">
        <div class="d-flex justify-content-between">
            <small class="text-muted">10%</small>
            <small class="text-muted">50%</small>
        </div>
        <div class="text-center">
            <small class="text-primary fw-bold" id="star_body_ratio_value">30%</small>
        </div>
        <small class="form-text text-muted">Maximum star candle body size relative to first</small>
    </div>
    
    <div class="col-md-6">
        <label for="ma_period" class="form-label">Moving Average Period</label>
        <input type="number" class="form-control" id="ma_period" name="ma_period" 
               min="5" max="50" value="20">
        <small class="form-text text-muted">Period for trend context analysis</small>
    </div>
</div>

<script>
// Update range value displays
document.getElementById('body_size_ratio').addEventListener('input', function() {
    const value = (this.value * 100).toFixed(0);
    document.getElementById('body_size_ratio_value').textContent = value + '%';
});

document.getElementById('gap_ratio').addEventListener('input', function() {
    const value = (this.value * 100).toFixed(0);
    document.getElementById('gap_ratio_value').textContent = value + '%';
});

document.getElementById('penetration_ratio').addEventListener('input', function() {
    const value = (this.value * 100).toFixed(0);
    document.getElementById('penetration_ratio_value').textContent = value + '%';
});

document.getElementById('star_body_ratio').addEventListener('input', function() {
    const value = (this.value * 100).toFixed(0);
    document.getElementById('star_body_ratio_value').textContent = value + '%';
});
</script>
{% endmacro %}
